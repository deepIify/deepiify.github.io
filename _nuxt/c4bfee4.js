(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{482:function(t,e,n){var content=n(507);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("602f8699",content,!0,{sourceMap:!1})},500:function(t,e,n){"use strict";(function(t){n(6),n(5),n(7),n(12),n(8),n(13);var o=n(1),r=(n(25),n(65),n(34),n(9),n(66),n(213),n(77)),c=n(502),l=n(82);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=t.env.NUXT_APP_BASE_URL||"https://jettanalysis.com",f=t.env.NUXT_APP_FRONTEND_PORT||"",v="".concat(h).concat(f);e.a={name:"Comment",props:{post:{type:Object,required:!0}},components:{ValidationObserver:r.a,ValidationProvider:r.b,ShareBox:c.default},data:function(){return{comments:[{},{}],isCommentLoading:!0,username:"",content:"",loading:!1,attrs:{class:"mb-6",boilerplate:!1,elevation:0},snackbar:!1}},mounted:function(){var t=this;this.$fire.firestore.collection("COM_".concat(this.post.type,"_").concat(this.post.id)).get().then((function(e){t.comments=e.docs.map((function(t){return t.data()})),t.isCommentLoading=!1}))},methods:{goToSignin:function(){this.$router.push("/signin")},submit:function(){var t=this;if(this.isSignedIn){var e={username:this.user.displayName,content:this.encodedContent,created_at:(new Date).getTime()};this.loading=!0,this.$fire.firestore.collection("COM_".concat(this.post.type,"_").concat(this.post.id)).add(e).then((function(){t.loading=!1,t.comments.push(e),t.resetCommentForm()})).catch((function(e){t.loading=!1,alert("댓글 등록에 실패했습니다.")}))}else alert("로그인 후 이용가능합니다.")},resetCommentForm:function(){var t=this;this.content="",this.$nextTick((function(){t.$refs.form&&t.$refs.form.reset()}))},userColor:function(t){if(!t)return"#a00077";switch(t.toUpperCase().charCodeAt(0)%8){case 0:return"#855c47";case 1:return"#7a8547";case 2:return"#475085";case 3:return"#7d4785";case 4:return"#477085";case 5:return"#474b85";case 6:return"#7d8547";case 7:return"#478549"}},copyToClipboard:function(){var t=this;this.$copyText(this.shareUrl).then((function(e){t.snackbar=!0}),(function(t){alert("복사에 실패했습니다.")}))}},computed:m(m({},Object(l.c)({user:"user/user"})),{},{isSignedIn:function(){return!!this.user},commentCount:function(){return this.comments?this.comments.length:0},shareUrl:function(){return"".concat(v,"/").concat(this.post.type,"/").concat(this.post.id)},shareTwitter:function(){return"https://twitter.com/share?text=".concat(this.post.title,"&url=").concat(this.shareUrl,"&via=jettanalysis")},shareFacebook:function(){return"https://www.facebook.com/sharer/sharer.php?u=".concat(this.shareUrl)},encodedContent:function(){return this.content?escape(this.content):""}}),filters:{filterFirstChar:function(t){return t?t.toUpperCase().charAt(0):""},toDateTime:function(t){if(!t)return"";var e=new Date(Number(t)),n=function(t){return 1==="".concat(t).length?"0".concat(t):t};return"".concat(e.getFullYear(),".").concat(n(e.getMonth()+1),".").concat(n(e.getDate())," ").concat(n(e.getHours()),":").concat(n(e.getMinutes()))},unescape:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return t?unescape(t):""}))}}}).call(this,n(124))},502:function(t,e,n){"use strict";n.r(e);n(25),n(5),n(44);var o=n(213),r={name:"ShareBox",props:{shareUrl:{type:String,required:!0},shareTwitter:{type:String,required:!0},shareFacebook:{type:String,required:!0},post:{type:Object,required:!0}},data:function(){return{snackbar:!1}},methods:{shareKakaoStory:function(){var t=this;Object(o.d)((function(){window.Kakao.Story.share({url:t.shareUrl,text:"".concat(t.post.title,"\n\n").concat(t.post.description)})}))},shareKakaoTalk:function(){var t=this;Object(o.d)((function(){window.Kakao.Link.sendCustom({templateId:60106,templateArgs:{thumbnail:Object(o.e)(t.post.img),title:t.post.title,description:t.post.description,path:"".concat(t.post.type,"/").concat(t.post.id)}})}))},copyToClipboard:function(){var t=this;this.$copyText(this.shareUrl).then((function(e){t.snackbar=!0}),(function(t){alert("복사에 실패했습니다.")}))}}},c=(n(506),n(38)),l=n(57),d=n.n(l),m=n(490),h=n(547),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"share"},[n("li",[n("a",{staticClass:"twitter",attrs:{href:t.shareTwitter,target:"_blank"}},[n("img",{staticClass:"share-icon",attrs:{src:"/icons/share-twitter.png"}})])]),n("li",[n("a",{staticClass:"facebook",attrs:{href:t.shareFacebook,target:"_blank"}},[n("img",{staticClass:"share-icon",attrs:{src:"/icons/signin-facebook.png"}})])]),n("li",[n("a",{staticClass:"kakao-story",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.shareKakaoStory.apply(null,arguments)}}},[n("img",{staticClass:"share-icon",attrs:{src:"/icons/share-kakao-story.png"}})])]),n("li",[n("a",{staticClass:"kakao-talk",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.shareKakaoTalk.apply(null,arguments)}}},[n("img",{staticClass:"share-icon",attrs:{src:"/icons/signin-kakao.png"}})])]),n("li",[n("a",{staticClass:"clipboard",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.copyToClipboard.apply(null,arguments)}}},[n("img",{staticClass:"share-icon",attrs:{src:"/icons/share-link.png"}})])]),n("v-snackbar",{attrs:{timeout:"1500","min-width":"210",width:"210",rounded:"pill",top:"",right:""},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[n("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v("닫기")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("복사되었습니다!")])],1)}),[],!1,null,"78ab5ac4",null);e.default=component.exports;d()(component,{VBtn:m.a,VSnackbar:h.a})},506:function(t,e,n){"use strict";n(482)},507:function(t,e,n){var o=n(17)(!1);o.push([t.i,".share[data-v-78ab5ac4]{margin-bottom:0;margin-top:auto;display:flex;padding-left:0;list-style:none}.share a[data-v-78ab5ac4]{text-decoration:none}.share a .share-icon[data-v-78ab5ac4]{width:32px;height:32px;transition:transform .2s}.share a .share-icon[data-v-78ab5ac4]:hover{transform:scale(1.15)}.share li+li[data-v-78ab5ac4]{margin-left:10px}",""]),t.exports=o},519:function(t,e,n){var content=n(565);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("0f9144d4",content,!0,{sourceMap:!1})},520:function(t,e,n){var content=n(567);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("30c44c39",content,!0,{sourceMap:!1})},564:function(t,e,n){"use strict";n(519)},565:function(t,e,n){var o=n(17)(!1);o.push([t.i,'#comments[data-v-61dae68b]{display:flex;justify-content:space-between;border-bottom:1px solid #ebebeb;padding:25px 0}.comment-size-progress[data-v-61dae68b]{margin-right:7.5px}.comments-title[data-v-61dae68b]{font-size:14px;display:flex;line-height:1;align-items:center;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";margin-bottom:0!important}.comments-title span[data-v-61dae68b]{color:#00afff;font-size:36px;font-weight:700;padding-right:10px}.comments-container[data-v-61dae68b]{padding:22.5px 0!important}.comments-inner-container[data-v-61dae68b]{width:100%;padding-right:20px;padding-left:20px;margin-right:auto;margin-left:auto}.comments[data-v-61dae68b]{list-style:none;padding-left:0;margin:1rem 0}.comments-wrapper[data-v-61dae68b]{margin-bottom:1.75rem;word-wrap:break-word}.comments-author-photo[data-v-61dae68b]{width:48px;height:48px;margin-right:16px;line-height:48px;text-align:center;font-weight:700;color:#fff;font-size:14px;text-transform:uppercase}.comments-author-data[data-v-61dae68b]{flex-grow:1;min-width:1px}.comments-author-name[data-v-61dae68b]{font-weight:700}.comments-author-metadata[data-v-61dae68b],.comments-author-name[data-v-61dae68b]{line-height:22.5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.comments-author-metadata[data-v-61dae68b]{font-size:10px}.comments-socials[data-v-61dae68b]{display:block;position:absolute;top:0;right:0;display:flex}.comments-link[data-v-61dae68b]{display:block;width:1.75rem;height:1.75rem;background:#f7f7f7;display:flex;justify-content:center;align-items:center;fill:#24292e}.comment-form[data-v-61dae68b]{margin:25px 0;padding-top:1rem}@media(min-width:576px){.comments-inner-container[data-v-61dae68b]{padding-right:10px;padding-left:10px}}@media(min-width:540px){.comments-inner-container[data-v-61dae68b]{max-width:540px}}@media(min-width:768px){.comments-inner-container[data-v-61dae68b]{max-width:720px}.comments-container[data-v-61dae68b]{padding:27.5px 0!important}}@media(min-width:992px){.comments-inner-container[data-v-61dae68b]{max-width:730px}}',""]),t.exports=o},566:function(t,e,n){"use strict";n(520)},567:function(t,e,n){var o=n(17)(!1);o.push([t.i,".comments-author{display:flex;margin-bottom:1.75rem;position:relative}",""]),t.exports=o},581:function(t,e,n){"use strict";n.r(e);var o=n(500).a,r=(n(564),n(566),n(38)),c=n(57),l=n.n(c),d=n(490),m=n(458),h=n(757),f=n(547),v=n(758),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments-container"},[n("div",{staticClass:"comments-inner-container"},[n("div",{attrs:{id:"comments"}},[n("p",{staticClass:"comments-title"},[n("span",[t._v(t._s(t.isCommentLoading?0:t.commentCount))]),t._v(" 댓글")]),n("share-box",{attrs:{post:t.post,shareUrl:t.shareUrl,shareTwitter:t.shareTwitter,shareFacebook:t.shareFacebook}})],1),n("ul",{staticClass:"comments"},t._l(t.comments,(function(e,o){return n("li",{key:o,staticClass:"comment-item"},[n("v-skeleton-loader",t._b({attrs:{loading:t.isCommentLoading,type:"list-item-avatar-two-line, paragraph"}},"v-skeleton-loader",t.attrs,!1),[n("div",{staticClass:"comment-wrapper"},[n("div",{staticClass:"comments-author"},[n("div",{staticClass:"comments-author-photo",style:{backgroundColor:t.userColor(e.username)}},[t._v(t._s(t._f("filterFirstChar")(e.username)))]),n("div",{staticClass:"comments-author-data"},[n("div",{staticClass:"comments-author-name"},[t._v(t._s(e.username))]),n("div",{staticClass:"comments-author-metadata"},[n("time",{attrs:{datetime:e.create_at}},[t._v(t._s(t._f("toDateTime")(e.created_at)))])])])]),n("p",{staticClass:"comments-content"},[t._v(t._s(t._f("unescape")(e.content)))])])])],1)})),0),n("div",{staticClass:"comment-form"},[n("validation-observer",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit,r=e.reset;return[n("form",{on:{submit:function(e){return e.preventDefault(),o(t.submit)},reset:function(t){return t.preventDefault(),r.apply(null,arguments)}}},[n("v-col",[n("validation-provider",{attrs:{name:"내용",rules:"required|min:1|max:1500"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("v-textarea",{attrs:{label:t.isSignedIn?"내용":"로그인 후 이용해주세요","error-messages":o,outlined:"",disabled:!t.isSignedIn},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})]}}],null,!0)})],1),n("v-col",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isSignedIn,expression:"isSignedIn"}],staticClass:"white--text",attrs:{loading:t.loading,color:"#00afff",type:"submit",large:""}},[t._v("등록")]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.isSignedIn,expression:"!isSignedIn"}],staticClass:"white--text",attrs:{loading:t.loading,color:"#00afff",type:"button",large:""},on:{click:t.goToSignin}},[t._v("로그인")])],1)],1)]}}])})],1)]),n("v-snackbar",{attrs:{timeout:"1500","min-width":"210",width:"210",rounded:"pill",top:"",right:""},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[n("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v("닫기")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("복사되었습니다!")])],1)}),[],!1,null,"61dae68b",null);e.default=component.exports;l()(component,{ShareBox:n(502).default}),l()(component,{VBtn:d.a,VCol:m.a,VSkeletonLoader:h.a,VSnackbar:f.a,VTextarea:v.a})}}]);